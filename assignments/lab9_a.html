<html lang="en">

<head>
    <meta charset="UTF-8">
    <title> Lab 9 - Objects and CSS Responsive Design Part A</title>
    <style>
        #go_box {
            padding: 5px 9px;
        }
    </style>

</head>

<body>
    <h1> Lab 9 - Objects and CSS Responsive Design Part A</h1>
    <p> How many buttons to create? (From 5 to 100) </p>

    <input type="text" id="input_box" value="">
    <button id="go_box" onclick="validation()"> Go! </button>
    <p id="answer"> </p>

    <script>


        /* Input Validation */
        function validation() {
            var x = document.getElementById("input_box").value;
            var num = parseInt(x)
            if ((isNaN(num) == false) && (num >= 5 && num <= 100)) {
                document.getElementById("answer").innerHTML = "Valid Input.";
                document.getElementById("answer").style.color = "green";
                multiply_box(num)
            }
            else {
                document.getElementById("answer").innerHTML = "Invalid input. Type a number from 5 to 100.";
                document.getElementById("answer").style.color = "red";
            }
        }

        /* Box Object Constructor */
        function Box(height, width, top, left) {
            this.height = height;
            this.width = width;
            this.top = top;
            this.left = left;
            this.create = function () {
                create_box(this.height, this.width, this.top, this.left)
            }
        }

        /* Box Creation */
        function create_box(h, w, t, l ) {
            let btn = document.createElement("BUTTON");
            document.body.appendChild(btn);
            btn.style.background = colour_box()
            btn.style.height = h;
            btn.style.width = w;
            btn.style.position = "absolute";
            btn.style.top = t;
            btn.style.left = l;
            setInterval(function () {
                btn.style.top = random_top();
                btn.style.left = random_left();
            }, 2000)
        }

        /* Box Multiply */
        function multiply_box(num) {
            for (i = 0; i < num; i++) {
                new_box.create()
            }
        }

        /* Box Colour */
        function colour_box() {
            let r = (Math.round(Math.random() * 255) + 0).toString();
            let g = (Math.round(Math.random() * 255) + 0).toString();
            let b = (Math.round(Math.random() * 255) + 0).toString();
            let colour = "rgb(" + r + "," + g + "," + b + ")"
            return colour
        }

        /* Box Positioning Top */
        function random_top() {
            let window_height = document.body.clientHeight;
            let random_num_height = within_random(0, window_height);
            return random_num_height + "px";
            
        }

        /* Box Positioning Left */
        function random_left() {
            let window_width = document.body.clientWidth;
            let random_num_width = within_random(0, window_width);
            return random_num_width + "px";

        }

        /* Position Randomization */
        function within_random(a, b) {
            let d = b - 125;
            random_num = (Math.round(Math.random() * d + a));
            return random_num
        }

        var new_box = new Box("5em", "10em", "150px", "10px");
        
        
    </script>

</body>

</html>